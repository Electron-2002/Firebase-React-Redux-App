(this["webpackJsonpreact-boilerplate"]=this["webpackJsonpreact-boilerplate"]||[]).push([[0],{325:function(e,t,a){e.exports=a(665)},663:function(e,t,a){},665:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(114),l=a.n(c),i=a(7),s=a(22),o=a(116),m=a(40),u=a(2),d=a(323),p=a(117),E=a.n(p);a(658),a(661);E.a.initializeApp({apiKey:"AIzaSyDyhD64JkG9a3lpCc-hVnlpwETDFxP7n1w",authDomain:"fir-react-app-e9ff5.firebaseapp.com",databaseURL:"https://fir-react-app-e9ff5.firebaseio.com",projectId:"fir-react-app-e9ff5",storageBucket:"fir-react-app-e9ff5.appspot.com",messagingSenderId:"198142362131",appId:"1:198142362131:web:9569aed2913a7008db75e6",measurementId:"G-9CTGYBQZ3F"}),E.a.firestore();var f=E.a,b=a(15),h={authError:null},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCESS":return console.log("Login Success!"),Object(b.a)({},e,{authError:null});case"LOGIN_ERROR":return console.log("Login Failed!"),Object(b.a)({},e,{authError:"Login Failed!"});case"LOGOUT_SUCCESS":return console.log("Logout Success!"),e;case"SIGNUP_SUCCESS":return console.log("Signup Success!"),Object(b.a)({},e,{authError:null});case"SIGNUP_ERROR":return console.log("Signup Failed!"),Object(b.a)({},e,{authError:t.payload});default:return e}},g={projects:[{id:1,title:"A for Apple",content:"Alphabets"},{id:2,title:"B for Ball",content:"Alphabets"},{id:3,title:"C for Cat",content:"Alphabets"}]},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_PROJECT":return console.log("Created Project",t.payload),e;case"CREATE_PROJECT_ERROR":return console.log("Create Project Error",t.payload),e;default:return e}},j=Object(m.c)({auth:N,project:v,firebase:s.firebaseReducer,firestore:o.firestoreReducer}),O=(a(663),a(4)),y=function(e){var t=e.profile.initials,a=Object(u.b)();return r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(i.c,{to:"/create"},"New Project")),r.a.createElement("li",null,r.a.createElement(i.c,{to:"/",onClick:function(){return a((function(e,t,a){a().auth().signOut().then((function(){e({type:"LOGOUT_SUCCESS"})}))}))}},"Logout")),r.a.createElement("li",null,r.a.createElement(i.c,{to:"/",className:"btn btn-floating pink lighten-1"},t)))},S=function(){return r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(i.c,{to:"/signup"},"Sign Up")),r.a.createElement("li",null,r.a.createElement(i.c,{to:"/signin"},"Login")))},C=function(){var e=Object(u.c)((function(e){return e.firebase.auth})),t=Object(u.c)((function(e){return e.firebase.profile}));return r.a.createElement("nav",{className:"nav-wrapper grey darken-3"},r.a.createElement("div",{className:"container"},r.a.createElement(i.b,{to:"/",className:"brand-logo"},"FirebaseApp"),e.uid?r.a.createElement(y,{profile:t}):r.a.createElement(S,null)))},w=a(53),R=a.n(w),x=function(e){var t=e.notifications;return r.a.createElement("div",{className:"section"},r.a.createElement("div",{className:"card z-depth-0"},r.a.createElement("div",{className:"card-content"},r.a.createElement("span",{className:"card-title"},"Notifications"),r.a.createElement("ul",{className:"notifications"},t&&t.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("span",{className:"pink-text"},e.user,":"," "),r.a.createElement("span",null,e.content),r.a.createElement("div",{className:"grey-text note-date"},R()(e.time.toDate()).fromNow()),r.a.createElement("br",null))}))))))},F=function(e){var t=e.project;return r.a.createElement("div",{className:"card z-depth-0 project-summary"},r.a.createElement("div",{className:"card-content grey-text text-darken-3"},r.a.createElement("span",{className:"card-title"},t.title),r.a.createElement("p",null,"Posted by ",t.firstName," ",t.lastName),r.a.createElement("p",{className:"grey-text"},R()(t.createdAt.toDate()).calendar())))},P=function(e){var t=e.projects;return r.a.createElement("div",{className:"project-list section"},t&&t.map((function(e){return r.a.createElement(i.b,{to:"/project/".concat(e.id),key:e.id},r.a.createElement(F,{project:e}))})))},A=function(){Object(s.useFirestoreConnect)([{collection:"projects",orderBy:["createdAt","desc"]},{collection:"notifications",limit:3,orderBy:["time","desc"]}]);var e=Object(u.c)((function(e){return e.firestore.ordered.projects})),t=Object(u.c)((function(e){return e.firestore.ordered.notifications}));return console.log(t),r.a.createElement("div",{className:"dashboard container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 m6"},r.a.createElement(P,{projects:e})),r.a.createElement("div",{className:"col s12 m5 offset-m1"},r.a.createElement(x,{notifications:t}))))},I=function(e){var t=e.match.params.id;Object(s.useFirestoreConnect)([{collection:"projects"}]);var a=Object(u.c)((function(e){return e.firestore.data.projects?e.firestore.data.projects[t]:null}));return a?r.a.createElement("div",{className:"container section project-details"},r.a.createElement("div",{className:"card z-depth-0"},r.a.createElement("div",{className:"card-content"},r.a.createElement("span",{className:"card-title"},a.title),r.a.createElement("p",{className:""},a.content)),r.a.createElement("div",{className:"card-action grey lighten-4 grey-text"},r.a.createElement("div",null,"Posted by ",a.firstName,a.lastName),r.a.createElement("div",null,R()(a.createdAt.toDate()).calendar())))):r.a.createElement("div",{className:"container center"},"Loading...")},k=a(29),L=a(54),U=function(){var e=Object(n.useState)({email:"",password:""}),t=Object(L.a)(e,2),a=t[0],c=t[1],l=Object(u.c)((function(e){return e.auth.authError})),i=Object(u.b)(),s=function(e){c(Object(b.a)({},a,Object(k.a)({},e.target.name,e.target.value)))};return Object(u.c)((function(e){return e.firebase.auth})).uid?r.a.createElement(O.a,{to:"/"}):r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:function(e){var t;e.preventDefault(),i((t=a,function(e,a,n){n().auth().signInWithEmailAndPassword(t.email,t.password).then((function(){e({type:"LOGIN_SUCCESS"})})).catch((function(t){e({type:"LOGIN_ERROR",payload:t})}))}))},className:"white"},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Sign In"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"},"E-Mail"),r.a.createElement("input",{type:"email",name:"email",id:"email",onChange:s,value:a.email})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",name:"password",id:"password",onChange:s,value:a.password})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn pink lighten-1 z-depth-0",type:"submit"},"Login"),r.a.createElement("div",{className:"red-text center"},l?r.a.createElement("p",null,l):null))))},_=function(){var e=Object(n.useState)({email:"",password:"",firstName:"",lastName:""}),t=Object(L.a)(e,2),a=t[0],c=t[1],l=Object(u.c)((function(e){return e.auth.authError})),i=Object(u.b)(),s=function(e){c(Object(b.a)({},a,Object(k.a)({},e.target.name,e.target.value)))};return Object(u.c)((function(e){return e.firebase.auth})).uid?r.a.createElement(O.a,{to:"/"}):r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:function(e){var t;e.preventDefault(),i((t=a,function(e,a,n){var r=n(),c=r.firestore();r.auth().createUserWithEmailAndPassword(t.email,t.password).then((function(e){return c.collection("users").doc(e.user.uid).set({firstName:t.firstName,lastName:t.lastName,initials:t.firstName[0]+t.lastName[0]})})).then((function(){e({type:"SIGNUP_SUCCESS"})})).catch((function(t){e({type:"SIGNUP_ERROR",payload:t})}))}))},className:"white"},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Sign Up"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"},"E-Mail"),r.a.createElement("input",{type:"email",name:"email",id:"email",onChange:s,value:a.email})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",name:"password",id:"password",onChange:s,value:a.password})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"firstName"},"First Name"),r.a.createElement("input",{type:"text",name:"firstName",id:"firstName",onChange:s,value:a.firstName})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"lastName"},"Last Name"),r.a.createElement("input",{type:"text",name:"lastName",id:"lastName",onChange:s,value:a.lastName})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn pink lighten-1 z-depth-0",type:"submit"},"Sign up"),r.a.createElement("div",{className:"red-text center"},l?r.a.createElement("p",null,l.message):null))))},G=function(e){return function(t,a,n){var r=a().firebase.profile,c=a().firebase.auth.uid;n().firestore().collection("projects").add(Object(b.a)({firstName:r.firstName,lastName:r.lastName,createdAt:new Date,authorId:c},e)).then((function(){t({type:"CREATE_PROJECT",payload:e})})).catch((function(e){t({type:"CREATE_PROJECT_ERROR",payload:e})}))}},T=function(e){var t=Object(n.useState)({title:"",content:""}),a=Object(L.a)(t,2),c=a[0],l=a[1],i=Object(u.b)(),s=function(e){l(Object(b.a)({},c,Object(k.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),i(G(c)),console.log(e.history),e.history.push("/")},className:"white"},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Create New Project"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{type:"text",name:"title",id:"title",onChange:s,value:c.title})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"content"},"Project Content"),r.a.createElement("textarea",{name:"content",id:"content",onChange:s,value:c.content,className:"materialize-textarea"})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn pink lighten-1 z-depth-0",type:"submit"},"Create"))))},D=a(324),z=function(e){var t=e.component,a=Object(D.a)(e,["component"]),n=Object(u.c)((function(e){return e.firebase.auth}));return r.a.createElement(O.b,Object.assign({},a,{render:function(e){return n.uid?r.a.createElement(t,e):r.a.createElement(O.a,{to:"/signin"})}}))},B=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,null),r.a.createElement(O.d,null,r.a.createElement(z,{path:"/",exact:!0,component:A}),r.a.createElement(z,{path:"/project/:id",exact:!0,component:I}),r.a.createElement(O.b,{path:"/signin",exact:!0,component:U}),r.a.createElement(O.b,{path:"/signup",exact:!0,component:_}),r.a.createElement(z,{path:"/create",exact:!0,component:T})))},J=Object(m.d)(j,Object(m.a)(d.a.withExtraArgument(s.getFirebase))),M={firebase:f,config:{userProfile:"users",useFirestoreForProfile:!0},dispatch:J.dispatch,createFirestoreInstance:o.createFirestoreInstance},W=function(e){var t=e.children,a=Object(u.c)((function(e){return e.firebase.auth}));return Object(s.isLoaded)(a)?t:r.a.createElement("h3",{className:"center-align bold"},"Splash Screen")};l.a.render(r.a.createElement(u.a,{store:J},r.a.createElement(s.ReactReduxFirebaseProvider,M,r.a.createElement(i.a,null,r.a.createElement(W,null,r.a.createElement(B,null))))),document.getElementById("root"))}},[[325,1,2]]]);
//# sourceMappingURL=main.c86dbbe5.chunk.js.map